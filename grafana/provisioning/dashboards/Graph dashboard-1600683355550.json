{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": "-- Grafana --",
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "gnetId": null,
  "graphTooltip": 0,
  "iteration": 1600682762528,
  "links": [
    {
      "asDropdown": true,
      "icon": "external link",
      "includeVars": true,
      "keepTime": true,
      "tags": [],
      "targetBlank": true,
      "title": "Dashboards",
      "type": "dashboards"
    }
  ],
  "panels": [
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "Postgres",
      "decimals": 2,
      "fieldConfig": {
        "defaults": {
          "custom": {}
        },
        "overrides": []
      },
      "fill": 0,
      "fillGradient": 0,
      "gridPos": {
        "h": 6,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "hiddenSeries": false,
      "id": 2,
      "legend": {
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "hideEmpty": true,
        "hideZero": true,
        "max": true,
        "min": true,
        "rightSide": true,
        "show": true,
        "sideWidth": 600,
        "total": true,
        "values": true
      },
      "lines": false,
      "linewidth": 1,
      "nullPointMode": "null as zero",
      "percentage": false,
      "pluginVersion": "7.1.5",
      "pointradius": 0.5,
      "points": true,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  $__time(starttimestamp),\n  upload,\n  posizione\nFROM\n  connessioni\nWHERE\n  $__timeFilter(starttimestamp) and municipio in ($municipio) and posizione in ($sede)\ngroup by posizione, starttimestamp, upload\norder by posizione;",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Valori di upload per sede",
      "tooltip": {
        "shared": false,
        "sort": 0,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": -6,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:137",
          "decimals": null,
          "format": "decbytes",
          "label": "",
          "logBase": 10,
          "max": null,
          "min": "-10",
          "show": true
        },
        {
          "$$hashKey": "object:138",
          "format": "short",
          "label": "",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": 20
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "Postgres",
      "decimals": 2,
      "fieldConfig": {
        "defaults": {
          "custom": {}
        },
        "overrides": []
      },
      "fill": 0,
      "fillGradient": 0,
      "gridPos": {
        "h": 6,
        "w": 24,
        "x": 0,
        "y": 6
      },
      "hiddenSeries": false,
      "id": 3,
      "legend": {
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "hideEmpty": true,
        "hideZero": true,
        "max": true,
        "min": true,
        "rightSide": true,
        "show": true,
        "sideWidth": 600,
        "total": true,
        "values": true
      },
      "lines": false,
      "linewidth": 1,
      "nullPointMode": "null as zero",
      "percentage": false,
      "pluginVersion": "7.1.5",
      "pointradius": 0.5,
      "points": true,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  $__time(starttimestamp),\n  download,\n  posizione\nFROM\n  connessioni\nWHERE\n  $__timeFilter(starttimestamp) and municipio in ($municipio) and posizione in ($sede)\ngroup by posizione, starttimestamp, download\norder by posizione;",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Valori di download per sede",
      "tooltip": {
        "shared": false,
        "sort": 0,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": -6,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:137",
          "decimals": null,
          "format": "decbytes",
          "label": "",
          "logBase": 10,
          "max": null,
          "min": "-10",
          "show": true
        },
        {
          "$$hashKey": "object:138",
          "format": "short",
          "label": "",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": 20
      }
    },
    {
      "aliasColors": {},
      "bars": true,
      "dashLength": 10,
      "dashes": false,
      "datasource": "Postgres",
      "decimals": 2,
      "description": "",
      "fieldConfig": {
        "defaults": {
          "custom": {}
        },
        "overrides": []
      },
      "fill": 0,
      "fillGradient": 0,
      "gridPos": {
        "h": 6,
        "w": 24,
        "x": 0,
        "y": 12
      },
      "hiddenSeries": false,
      "id": 4,
      "legend": {
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "hideEmpty": true,
        "hideZero": true,
        "max": true,
        "min": true,
        "rightSide": true,
        "show": true,
        "sideWidth": 600,
        "total": true,
        "values": true
      },
      "lines": false,
      "linewidth": 1,
      "nullPointMode": "connected",
      "percentage": false,
      "pluginVersion": "7.1.5",
      "pointradius": 0.5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "format": "time_series",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  $__time(starttimestamp),\n  duration,\n  posizione\nFROM\n  connessioni\nWHERE\n  $__timeFilter(starttimestamp) and municipio in ($municipio) and posizione in ($sede)\ngroup by posizione, starttimestamp, duration\norder by posizione;",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Durata totale sessione per sede",
      "tooltip": {
        "shared": false,
        "sort": 0,
        "value_type": "cumulative"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "series",
        "name": null,
        "show": false,
        "values": [
          "total"
        ]
      },
      "yaxes": [
        {
          "$$hashKey": "object:137",
          "decimals": null,
          "format": "s",
          "label": "",
          "logBase": 10,
          "max": null,
          "min": "-10",
          "show": true
        },
        {
          "$$hashKey": "object:138",
          "format": "short",
          "label": "",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": 2
      }
    },
    {
      "aliasColors": {},
      "breakPoint": "50%",
      "cacheTimeout": null,
      "combine": {
        "label": "Others",
        "threshold": 0
      },
      "datasource": "Postgres",
      "decimals": 1,
      "description": "",
      "fieldConfig": {
        "defaults": {
          "custom": {}
        },
        "overrides": []
      },
      "fontSize": "80%",
      "format": "decbytes",
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 18
      },
      "id": 6,
      "interval": null,
      "legend": {
        "header": "Totale",
        "percentage": true,
        "percentageDecimals": 2,
        "show": true,
        "values": true
      },
      "legendType": "Right side",
      "links": [],
      "nullPointMode": "connected",
      "pieType": "pie",
      "pluginVersion": "7.1.5",
      "strokeWidth": "1",
      "targets": [
        {
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  starttimestamp AS \"time\",\n  sum(upload),\n  posizione\nFROM connessioni\nWHERE\n  $__timeFilter(starttimestamp) and municipio in ($municipio) and posizione in ($sede)\nGROUP BY posizione, starttimestamp;",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Contributo upload per sede",
      "type": "grafana-piechart-panel",
      "valueName": "total"
    },
    {
      "aliasColors": {},
      "breakPoint": "50%",
      "cacheTimeout": null,
      "combine": {
        "label": "",
        "threshold": ""
      },
      "datasource": "Postgres",
      "decimals": 1,
      "description": "",
      "fieldConfig": {
        "defaults": {
          "custom": {}
        },
        "overrides": []
      },
      "fontSize": "80%",
      "format": "decbytes",
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 18
      },
      "id": 7,
      "interval": null,
      "legend": {
        "header": "Totale",
        "percentage": true,
        "percentageDecimals": 2,
        "show": true,
        "sideWidth": null,
        "values": true
      },
      "legendType": "Right side",
      "links": [],
      "nullPointMode": "connected",
      "pieType": "pie",
      "pluginVersion": "7.1.5",
      "strokeWidth": "1",
      "targets": [
        {
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  starttimestamp AS \"time\",\n  sum(download),\n  posizione\nFROM connessioni\nWHERE\n  $__timeFilter(starttimestamp) and municipio in ($municipio) and posizione in ($sede)\nGROUP BY posizione, starttimestamp;",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Contributo download per sede",
      "type": "grafana-piechart-panel",
      "valueName": "total"
    }
  ],
  "refresh": false,
  "schemaVersion": 26,
  "style": "dark",
  "tags": [],
  "templating": {
    "list": [
      {
        "allValue": null,
        "current": {
          "selected": true,
          "tags": [],
          "text": [
            "Municipio I"
          ],
          "value": [
            "Municipio I"
          ]
        },
        "datasource": "Postgres",
        "definition": "select municipio from connessioni group by municipio;",
        "hide": 0,
        "includeAll": false,
        "label": "Municipio",
        "multi": true,
        "name": "municipio",
        "options": [
          {
            "selected": true,
            "text": "Municipio I",
            "value": "Municipio I"
          },
          {
            "selected": false,
            "text": "Municipio II",
            "value": "Municipio II"
          },
          {
            "selected": false,
            "text": "Municipio III",
            "value": "Municipio III"
          },
          {
            "selected": false,
            "text": "Municipio IV",
            "value": "Municipio IV"
          },
          {
            "selected": false,
            "text": "Municipio IX",
            "value": "Municipio IX"
          },
          {
            "selected": false,
            "text": "Municipio V",
            "value": "Municipio V"
          },
          {
            "selected": false,
            "text": "Municipio VI",
            "value": "Municipio VI"
          },
          {
            "selected": false,
            "text": "Municipio VII",
            "value": "Municipio VII"
          },
          {
            "selected": false,
            "text": "Municipio VIII",
            "value": "Municipio VIII"
          },
          {
            "selected": false,
            "text": "Municipio X",
            "value": "Municipio X"
          },
          {
            "selected": false,
            "text": "Municipio XI",
            "value": "Municipio XI"
          },
          {
            "selected": false,
            "text": "Municipio XII",
            "value": "Municipio XII"
          },
          {
            "selected": false,
            "text": "Municipio XIII",
            "value": "Municipio XIII"
          },
          {
            "selected": false,
            "text": "Municipio XIV",
            "value": "Municipio XIV"
          },
          {
            "selected": false,
            "text": "Municipio XV",
            "value": "Municipio XV"
          }
        ],
        "query": "select municipio from connessioni group by municipio;",
        "refresh": 0,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "allValue": null,
        "current": {
          "selected": true,
          "tags": [],
          "text": [
            "Circonvallazione Trionfale, 19, Roma",
            "Largo Ascianghi, 4, Roma",
            "Lungotevere in Augusta, 11, Roma",
            "Piazza Di Porta Metronia, 2, Roma",
            "Piazza Giuseppe Mazzini, 41, Roma",
            "Piazza Lovatelli, 35, Roma",
            "Piazza Orazio Giustiniani, 4, Roma",
            "Piazza San Pantaleo, 10, Roma",
            "Piazza del Campidoglio, 1, Roma",
            "Piazza di Campitelli, 7, Roma",
            "Piazza di Ponte Umberto I, 1, Roma",
            "Via 4 Novembre, 94, Roma",
            "Via Antonio Mordini, 19, Roma",
            "Via Ennio Quirino Visconti, 13, Roma",
            "Via Gabriele Camozzi, 4, Roma",
            "Via Gabriele Camozzi, 8, Roma",
            "Via Giulia, 25, Roma",
            "Via Luigi Petroselli, 45, Roma",
            "Via Luigi Petroselli, 50, Roma",
            "Via Merulana, 123, Roma",
            "Via Trionfale, 45, Roma",
            "Via dei Cerchi, 6, Roma",
            "Via del Colosseo, 62, Roma",
            "Via del Tempio di Giove, 21, Roma",
            "Via del Tempio di Giove, 3, Roma",
            "Via del Tritone, 142, Roma",
            "Via della Consolazione, 4, Roma",
            "Via della Greca, 5, Roma",
            "Via delle Tre Pile, 1, Roma",
            "Via di Monte Tarpeo, 41, Roma",
            "Viale dell'Uccelliera, 1, Roma",
            "Vicolo del Bottino, 1, Roma"
          ],
          "value": [
            "Circonvallazione Trionfale, 19, Roma",
            "Largo Ascianghi, 4, Roma",
            "Lungotevere in Augusta, 11, Roma",
            "Piazza Di Porta Metronia, 2, Roma",
            "Piazza Giuseppe Mazzini, 41, Roma",
            "Piazza Lovatelli, 35, Roma",
            "Piazza Orazio Giustiniani, 4, Roma",
            "Piazza San Pantaleo, 10, Roma",
            "Piazza del Campidoglio, 1, Roma",
            "Piazza di Campitelli, 7, Roma",
            "Piazza di Ponte Umberto I, 1, Roma",
            "Via 4 Novembre, 94, Roma",
            "Via Antonio Mordini, 19, Roma",
            "Via Ennio Quirino Visconti, 13, Roma",
            "Via Gabriele Camozzi, 4, Roma",
            "Via Gabriele Camozzi, 8, Roma",
            "Via Giulia, 25, Roma",
            "Via Luigi Petroselli, 45, Roma",
            "Via Luigi Petroselli, 50, Roma",
            "Via Merulana, 123, Roma",
            "Via Trionfale, 45, Roma",
            "Via dei Cerchi, 6, Roma",
            "Via del Colosseo, 62, Roma",
            "Via del Tempio di Giove, 21, Roma",
            "Via del Tempio di Giove, 3, Roma",
            "Via del Tritone, 142, Roma",
            "Via della Consolazione, 4, Roma",
            "Via della Greca, 5, Roma",
            "Via delle Tre Pile, 1, Roma",
            "Via di Monte Tarpeo, 41, Roma",
            "Viale dell'Uccelliera, 1, Roma",
            "Vicolo del Bottino, 1, Roma"
          ]
        },
        "datasource": "Postgres",
        "definition": "select posizione from connessioni where municipio in ($municipio) group by posizione;",
        "hide": 0,
        "includeAll": false,
        "label": "Sede",
        "multi": true,
        "name": "sede",
        "options": [
          {
            "selected": true,
            "text": "Circonvallazione Trionfale, 19, Roma",
            "value": "Circonvallazione Trionfale, 19, Roma"
          },
          {
            "selected": true,
            "text": "Largo Ascianghi, 4, Roma",
            "value": "Largo Ascianghi, 4, Roma"
          },
          {
            "selected": true,
            "text": "Lungotevere in Augusta, 11, Roma",
            "value": "Lungotevere in Augusta, 11, Roma"
          },
          {
            "selected": true,
            "text": "Piazza Di Porta Metronia, 2, Roma",
            "value": "Piazza Di Porta Metronia, 2, Roma"
          },
          {
            "selected": true,
            "text": "Piazza Giuseppe Mazzini, 41, Roma",
            "value": "Piazza Giuseppe Mazzini, 41, Roma"
          },
          {
            "selected": true,
            "text": "Piazza Lovatelli, 35, Roma",
            "value": "Piazza Lovatelli, 35, Roma"
          },
          {
            "selected": true,
            "text": "Piazza Orazio Giustiniani, 4, Roma",
            "value": "Piazza Orazio Giustiniani, 4, Roma"
          },
          {
            "selected": true,
            "text": "Piazza San Pantaleo, 10, Roma",
            "value": "Piazza San Pantaleo, 10, Roma"
          },
          {
            "selected": true,
            "text": "Piazza del Campidoglio, 1, Roma",
            "value": "Piazza del Campidoglio, 1, Roma"
          },
          {
            "selected": true,
            "text": "Piazza di Campitelli, 7, Roma",
            "value": "Piazza di Campitelli, 7, Roma"
          },
          {
            "selected": true,
            "text": "Piazza di Ponte Umberto I, 1, Roma",
            "value": "Piazza di Ponte Umberto I, 1, Roma"
          },
          {
            "selected": true,
            "text": "Via 4 Novembre, 94, Roma",
            "value": "Via 4 Novembre, 94, Roma"
          },
          {
            "selected": true,
            "text": "Via Antonio Mordini, 19, Roma",
            "value": "Via Antonio Mordini, 19, Roma"
          },
          {
            "selected": true,
            "text": "Via Ennio Quirino Visconti, 13, Roma",
            "value": "Via Ennio Quirino Visconti, 13, Roma"
          },
          {
            "selected": true,
            "text": "Via Gabriele Camozzi, 4, Roma",
            "value": "Via Gabriele Camozzi, 4, Roma"
          },
          {
            "selected": true,
            "text": "Via Gabriele Camozzi, 8, Roma",
            "value": "Via Gabriele Camozzi, 8, Roma"
          },
          {
            "selected": true,
            "text": "Via Giulia, 25, Roma",
            "value": "Via Giulia, 25, Roma"
          },
          {
            "selected": true,
            "text": "Via Luigi Petroselli, 45, Roma",
            "value": "Via Luigi Petroselli, 45, Roma"
          },
          {
            "selected": true,
            "text": "Via Luigi Petroselli, 50, Roma",
            "value": "Via Luigi Petroselli, 50, Roma"
          },
          {
            "selected": true,
            "text": "Via Merulana, 123, Roma",
            "value": "Via Merulana, 123, Roma"
          },
          {
            "selected": true,
            "text": "Via Trionfale, 45, Roma",
            "value": "Via Trionfale, 45, Roma"
          },
          {
            "selected": true,
            "text": "Via dei Cerchi, 6, Roma",
            "value": "Via dei Cerchi, 6, Roma"
          },
          {
            "selected": true,
            "text": "Via del Colosseo, 62, Roma",
            "value": "Via del Colosseo, 62, Roma"
          },
          {
            "selected": true,
            "text": "Via del Tempio di Giove, 21, Roma",
            "value": "Via del Tempio di Giove, 21, Roma"
          },
          {
            "selected": true,
            "text": "Via del Tempio di Giove, 3, Roma",
            "value": "Via del Tempio di Giove, 3, Roma"
          },
          {
            "selected": true,
            "text": "Via del Tritone, 142, Roma",
            "value": "Via del Tritone, 142, Roma"
          },
          {
            "selected": true,
            "text": "Via della Consolazione, 4, Roma",
            "value": "Via della Consolazione, 4, Roma"
          },
          {
            "selected": true,
            "text": "Via della Greca, 5, Roma",
            "value": "Via della Greca, 5, Roma"
          },
          {
            "selected": true,
            "text": "Via delle Tre Pile, 1, Roma",
            "value": "Via delle Tre Pile, 1, Roma"
          },
          {
            "selected": true,
            "text": "Via di Monte Tarpeo, 41, Roma",
            "value": "Via di Monte Tarpeo, 41, Roma"
          },
          {
            "selected": true,
            "text": "Viale dell'Uccelliera, 1, Roma",
            "value": "Viale dell'Uccelliera, 1, Roma"
          },
          {
            "selected": true,
            "text": "Vicolo del Bottino, 1, Roma",
            "value": "Vicolo del Bottino, 1, Roma"
          }
        ],
        "query": "select posizione from connessioni where municipio in ($municipio) group by posizione;",
        "refresh": 0,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      }
    ]
  },
  "time": {
    "from": "2020-08-05T07:34:11.364Z",
    "to": "2020-08-06T06:31:26.260Z"
  },
  "timepicker": {
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ]
  },
  "timezone": "utc",
  "title": "Graph dashboard",
  "uid": "GkPbiPOMz",
  "version": 1
}